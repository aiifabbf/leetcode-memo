class Solution:
    def findLongestChain(self, pairs):
        """
        :type pairs: List[List[int]]
        :rtype: int
        """
        if pairs == []:
            return 0
        pairs = sorted(pairs, key=lambda x: x[0])
        dp = [(pairs[0][-1], 1)]
        for i, (left, right) in enumerate(pairs[1: ], 1):
            for j, _ in list(enumerate(dp))[:: -1]:
                if left > dp[j][0]:
                    dp.append((right, dp[j][-1] + 1))
                    break
            else:
                dp.append((right, 1))
#         print(dp)
        return max(dp, key=lambda x: x[-1])[-1]

Solution().findLongestChain([[340,559],[37,806],[-213,267],[123,827],[130,465],[4,61],[-389,-21],[-769,130],[703,899],[-551,998],[-982,-247],[-872,656],[-803,-568],[530,857],[-243,-120],[428,936],[184,502],[-512,432],[-948,441],[-706,-167],[556,882],[881,946],[990,1000],[-613,865],[572,909],[-861,905],[-804,-401],[257,264],[-743,-709],[338,634],[315,445],[703,864],[-345,0],[-283,815],[-859,-277],[-973,191],[509,904],[-795,426],[-668,362],[-87,560],[-747,-232],[-198,439],[-276,285],[956,961],[-157,873],[162,892],[420,460],[-938,-814],[26,83],[189,794],[-318,801],[-425,89],[790,976],[-55,721],[-385,-59],[-231,-3],[677,861],[569,984],[-979,-75],[-268,798],[-725,-255],[-565,990],[-632,856],[-14,183],[401,511],[201,332],[622,850],[54,402],[-875,-818],[970,996],[872,902],[-148,258],[-723,599],[651,836],[129,526],[889,899],[-743,-239],[-429,-371],[788,809],[300,413],[33,953],[563,597],[-471,-216],[518,639],[-629,-544],[856,869],[-186,56],[244,519],[650,656],[473,729],[93,915],[-111,763],[21,690],[-672,-515],[-154,354],[262,629],[201,489],[-404,897],[-498,354],[705,881],[755,809],[97,839],[895,995],[-184,-166],[-110,291],[981,999],[-988,-938],[-459,-219],[-720,-212],[168,353],[-492,-195],[954,997],[-656,393],[418,712],[618,655],[-752,970],[964,990],[-942,-849],[-452,-120],[-985,312],[957,958],[-454,665],[-422,76],[941,951],[866,897],[742,965],[-139,597],[930,957],[297,399],[-885,-170],[660,679],[242,480],[342,884],[-40,228],[-433,-420],[-151,967],[443,551],[-97,-8],[-761,-343],[442,559],[835,839],[-4,103],[852,942],[-477,-132],[-283,-186],[-735,851],[-490,-163],[731,873],[512,952],[90,189],[-536,-37],[199,283],[-424,557],[661,755],[-815,94],[333,949],[-168,384],[453,557],[-381,-29],[-793,-452],[717,887],[327,591],[-218,458],[-221,-102],[846,983],[48,457],[-384,-59],[-514,573],[173,312],[353,449],[-564,238],[-966,64],[-41,159],[727,887],[-3,66],[648,729],[604,834],[713,992],[-806,711],[242,430],[-609,-299],[906,944],[-978,197],[-379,788],[302,794],[-183,-50],[431,557],[531,537],[-431,956],[105,394],[-832,-724],[889,899],[339,595],[373,424],[37,294],[-374,522],[-493,-59],[-549,-298],[701,922],[-795,598],[242,544],[439,713],[-824,-729],[-104,747],[376,685],[-689,-486],[-909,-644],[226,946],[706,994],[-208,123],[-138,188],[-374,352],[551,620],[-198,661],[362,606],[411,633],[436,786],[164,266],[-205,844],[643,780],[-439,-43],[981,987],[163,321],[828,911],[-71,351],[428,779],[556,792],[547,555],[108,463],[-540,-356],[-432,701],[119,549],[-43,447],[138,587],[-772,199],[435,488],[-324,719],[-56,995],[-928,-668],[252,989],[-380,446],[667,860],[981,983],[-341,336],[96,142],[-404,972],[340,609],[-238,-222],[32,36],[-535,-261],[-24,482],[-421,87],[139,476],[706,887],[-478,62],[-158,592],[-170,932],[-725,126],[-995,-282],[891,977],[166,628],[171,751],[696,813],[-851,155],[565,761],[-604,678],[-187,738],[-936,-811],[-240,869],[-237,947],[752,785],[677,861],[-55,410],[-201,325],[820,855],[-671,603],[598,819],[-859,18],[-298,573],[489,492],[377,783],[-424,178],[938,977],[-722,524],[414,986],[-173,-127],[-59,501],[-662,852],[-217,188],[427,718],[944,1000],[149,881],[292,1000],[-179,-4],[254,678],[-12,528],[-941,891],[749,801],[-746,-17],[-97,911],[753,848],[-986,-780],[-152,770],[-52,420],[-747,371],[855,947],[-458,615],[526,671],[-952,252],[546,843],[893,938],[-282,229],[721,836],[532,665],[768,829],[812,984],[-988,-346],[854,911],[-9,896],[-364,-313],[58,109],[-539,402],[-833,905],[-999,-264],[398,637],[230,519],[-953,703],[704,900],[-819,-550],[-993,-323],[954,992],[-388,434],[-142,106],[-907,-447],[-110,700],[-636,-537],[-249,759],[-966,63],[932,971],[-339,708],[-974,760],[-523,-297],[-416,-124],[912,991],[-225,14],[600,844],[-596,849],[284,727],[-226,995],[92,820],[248,569],[700,864],[816,944],[-907,-10],[-352,636],[-489,-21],[-604,-592],[-364,-231],[631,757],[73,835],[522,692],[549,715],[-726,121],[-491,-477],[-857,52],[-853,886],[219,669],[89,893],[846,951],[-486,153],[-291,240],[120,283],[440,694],[-642,768],[-799,322],[762,886],[175,266],[-344,83],[-842,-717],[973,976],[-726,352],[6,208],[-169,361],[-162,826],[919,947],[-526,-90],[918,954],[-465,609],[348,644],[142,521],[-219,249],[778,787],[-771,-462],[-217,715],[-689,-154],[-952,665],[500,707],[-615,-60],[-795,-176],[584,588],[-680,-334],[113,512],[829,922],[-336,669],[-764,-317],[-709,662],[-426,963],[-436,571],[-362,-315],[902,954],[708,898],[-437,-282],[991,998],[-303,-251],[-663,-217],[644,950],[566,742],[-602,-440],[241,891],[129,188],[-471,345],[185,286],[-38,739],[-197,300],[917,949],[313,729],[-483,257],[7,447],[-874,-527],[-51,182],[787,874],[-69,164],[-757,-34],[-134,403],[458,734],[7,743],[316,815],[657,922],[-76,858],[446,783],[737,867],[269,909],[-118,888],[763,921],[-679,9],[-347,277],[953,958],[983,997],[878,907],[-182,427],[-620,782],[-792,348],[-87,399],[-811,39],[177,561],[176,249],[520,663],[-21,624],[-481,48],[534,560],[-705,-684],[625,784],[-168,-33],[-716,-124],[-67,450],[718,777],[959,984],[-120,47],[873,878],[975,995],[516,675],[-436,933],[90,796],[720,862],[-504,529],[584,667],[933,996],[424,554],[-714,43],[604,959],[-843,289],[-616,-6],[-453,-358],[-79,44],[894,933],[-268,-81],[-435,-279],[274,722],[985,999],[756,974],[-936,-250],[-542,-61],[793,887],[-99,593],[787,946],[-831,111],[-421,20],[-243,-200],[-103,-24],[757,923],[764,825],[-403,775],[-677,342],[-206,330],[407,730],[-863,254],[-877,-217],[882,890],[-788,794],[-694,155],[292,558],[696,712],[122,264],[-566,-464],[-702,53],[-41,791],[-721,703],[58,973],[310,520],[-950,523],[-450,24],[812,835],[-842,-65],[695,893],[630,634],[646,717],[844,887],[-281,806],[938,998],[-49,473],[-558,-23],[-367,199],[-651,-162],[-251,-156],[496,717],[409,623],[273,468],[183,805],[327,697],[-92,886],[-233,513],[40,223],[300,564],[-51,346],[-146,376],[905,938],[-310,422],[942,985],[-758,500],[684,794],[-65,266],[235,648],[-785,310],[-167,411],[87,831],[-11,325],[795,830],[-681,148],[-279,496],[497,916],[-899,-501],[-13,8],[-877,-336],[382,621],[237,323],[-103,737],[956,981],[-710,10],[698,930],[580,978],[-674,457],[-973,226],[573,937],[959,992],[-926,505],[618,651],[-225,798],[-519,-206],[66,613],[492,859],[568,862],[877,922],[689,743],[-181,282],[110,953],[-59,685],[-476,460],[-225,351],[-92,705],[-856,110],[21,656],[-708,45],[-409,506],[-964,885],[309,674],[414,712],[281,863],[302,491],[-57,226],[427,896],[825,843],[-470,595],[329,845],[-859,-183],[966,998],[-706,-356],[579,797],[-778,899],[-376,16],[305,699],[-504,947],[256,933],[-629,880],[548,608],[146,459],[-320,954],[-556,-336],[-207,950],[-961,988],[493,749],[365,389],[-730,961],[-506,739],[-474,-173],[571,801],[324,332],[863,949],[-55,-22],[-936,433],[252,275],[597,611],[712,773],[-333,-144],[223,740],[475,750],[950,980],[177,419],[814,976],[-236,620],[702,813],[951,964],[128,936],[388,466],[702,901],[753,917],[585,891],[62,499],[461,624],[-159,825],[267,726],[519,751],[454,615],[837,846],[-420,36],[-578,-375],[-282,944],[-959,-9],[110,533],[862,951],[152,980],[-42,792],[94,772],[-380,377],[503,784],[308,420],[335,756],[259,658],[-188,178],[28,31],[333,579],[470,881],[-836,301],[199,501],[439,912],[-219,815],[-873,415],[568,989],[408,452],[-584,262],[-877,226],[-220,990],[938,941],[-798,245],[843,882],[-26,313],[-963,81],[238,568],[-685,856],[656,992],[873,917],[-630,-392],[231,934],[664,977],[-857,111],[349,634],[442,854],[-521,-318],[-64,783],[-825,671],[473,495],[438,843],[-255,124],[866,937],[552,572],[-888,9],[355,815],[158,498],[-101,-28],[-963,319],[-465,391],[653,716],[-809,-705],[-929,878],[343,498],[-390,367],[-275,730],[-247,252],[526,579],[843,855],[652,691],[-462,875],[601,908],[154,608],[767,932],[912,949],[-189,167],[-658,-130],[-37,395],[-802,-495],[856,867],[998,999],[-147,87],[-759,98],[341,445],[-257,-194],[361,856],[252,452],[-9,487],[-103,569],[38,467],[-192,119],[-941,517],[133,789],[-290,766],[-408,695],[-456,-216],[30,208],[179,916],[-382,412],[-926,-805],[212,606],[392,735],[792,989],[-27,173],[395,778],[-536,645],[-191,103],[336,392],[519,681],[139,247],[-833,-583],[-851,777],[-564,479],[-62,563],[-778,-629],[-878,850],[678,932],[444,488],[-39,124],[881,976],[-221,-4],[-448,180],[793,994],[23,104],[711,892],[-102,76],[-250,827],[-48,654],[989,992],[-191,253],[-32,540],[-326,451],[13,216],[75,262],[-58,615],[467,963],[-187,218],[3,926],[-785,-492],[-488,-131],[-914,-445],[-430,400],[411,428],[403,844],[-71,172],[-161,523],[118,773],[986,989],[-812,306],[624,913],[488,787],[-117,148],[418,513],[217,679],[421,521],[401,422],[-655,960],[413,986],[-197,271],[395,790],[460,486],[945,950],[109,310],[734,817],[-352,-50],[644,793],[451,594],[18,180],[-505,5],[-67,987],[189,526],[861,913],[656,724],[-317,218],[-220,616],[793,913],[234,399],[-54,577],[956,993],[907,972],[-490,-145],[511,520],[464,838],[-312,-303],[842,904],[-261,169],[332,562],[-988,-8],[703,878],[-248,409],[-569,-188],[-459,-449],[809,987],[704,828],[414,732],[-30,734],[729,818],[-487,621],[-293,493],[-574,-152],[80,936],[-736,-202],[508,925],[992,996],[-915,129],[-956,-464],[-929,-406],[-968,239],[-318,99],[861,976],[-624,-471],[-653,677],[442,997],[-198,528],[-621,-256],[-462,324],[731,949],[229,314],[477,581],[-669,772],[-398,-142],[-878,790],[-260,647],[-463,319],[270,697],[-923,-359],[304,780],[234,287],[481,746],[-376,933],[616,703],[626,930],[-981,-331],[87,122],[359,512],[-607,-250],[-860,43],[-528,-49],[-812,323],[-810,-445],[373,606],[-875,-49],[-720,-610],[76,833],[980,1000],[-975,134],[-857,-92],[-620,673],[-171,109],[-349,770],[-213,574],[19,434],[-259,989],[-402,794],[-362,381],[119,782],[-315,134],[418,645],[261,304],[345,709],[-305,-29],[-354,599]])